# Requirements Document: Polyglossarium Expansion

## Introduction

Расширение веб-приложения Polyglossarium для отображения всех 290 блоков знаний вместо текущих 62. Система должна загружать и отображать полную структуру знаний из трёх томов Полиглоссариума, охватывающих все области от фундаментальных наук до практической мудрости.

## Glossary

- **Polyglossarium**: Структурированная система знаний из 290 блоков, организованных в 60 категорий
- **Блок (Topic)**: Отдельная тема знаний с ID, названием и описанием
- **Категория (Category)**: Группа связанных блоков знаний
- **Curriculum**: Массив данных, содержащий все категории и блоки
- **GridSystem**: React-компонент для отображения категорий в виде сетки
- **Drawer**: Боковая панель для отображения деталей категории и блоков

## Requirements

### Requirement 1: Парсинг данных из Markdown

**User Story:** Как разработчик, я хочу автоматически извлечь все 290 блоков из трёх Markdown-файлов, чтобы не вводить данные вручную.

#### Acceptance Criteria

1. WHEN скрипт парсинга запускается, THE System SHALL прочитать три файла Polyglsssarium_tom_1.md, Polyglsssarium_tom_2.md, Polyglsssarium_tom_3.md
2. WHEN парсер обрабатывает Markdown, THE System SHALL извлечь номер блока, название, описание и ссылки для каждого блока
3. WHEN парсер встречает заголовок категории (##), THE System SHALL создать новую категорию с соответствующим ID
4. WHEN парсер обрабатывает блок, THE System SHALL сохранить его в соответствующую категорию
5. WHEN парсинг завершён, THE System SHALL сгенерировать валидный JavaScript-файл с экспортом массива curriculum

### Requirement 2: Структура данных

**User Story:** Как система, я хочу иметь единообразную структуру данных для всех 290 блоков, чтобы обеспечить консистентность отображения.

#### Acceptance Criteria

1. THE System SHALL хранить данные в формате массива объектов категорий
2. WHEN категория создаётся, THE System SHALL включить поля: id (number), category (string), description (string), topics (array)
3. WHEN блок создаётся, THE System SHALL включить поля: id (string), title (string), description (string)
4. WHEN блок содержит ссылки, THE System SHALL сохранить их в формате Markdown внутри description
5. THE System SHALL обеспечить уникальность ID для всех 290 блоков (от "1" до "290")

### Requirement 3: Обновление файла curriculum.js

**User Story:** Как разработчик, я хочу заменить текущий curriculum.js на полную версию с 290 блоками, чтобы веб-приложение отображало все данные.

#### Acceptance Criteria

1. WHEN новый curriculum.js генерируется, THE System SHALL заменить существующий файл web/src/data/curriculum.js
2. WHEN файл обновляется, THE System SHALL сохранить формат экспорта: `export const curriculum = [...]`
3. WHEN данные загружаются, THE System SHALL содержать все 60 категорий (id от 0 до 59)
4. WHEN данные загружаются, THE System SHALL содержать все 290 блоков
5. THE System SHALL обеспечить валидный JavaScript-синтаксис для всех строк (экранирование кавычек, переносов строк)

### Requirement 4: Отображение расширенной сетки

**User Story:** Как пользователь, я хочу видеть все 60 категорий в горизонтальной прокручиваемой сетке, чтобы исследовать полную карту знаний.

#### Acceptance Criteria

1. WHEN пользователь открывает страницу, THE GridSystem SHALL отобразить все категории из curriculum
2. WHEN сетка рендерится, THE System SHALL расположить карточки в 2 ряда с горизонтальной прокруткой
3. WHEN пользователь прокручивает сетку, THE System SHALL плавно перемещать карточки с помощью drag-to-scroll
4. WHEN карточка отображается, THE System SHALL показать: номер модуля, название категории, количество блоков
5. WHEN пользователь наводит курсор на карточку, THE System SHALL применить hover-эффект (изменение цвета, анимация)

### Requirement 5: Навигация по блокам

**User Story:** Как пользователь, я хочу открывать категории и просматривать все блоки внутри, чтобы изучать конкретные темы.

#### Acceptance Criteria

1. WHEN пользователь кликает на карточку категории, THE System SHALL открыть боковую панель (drawer) с списком блоков
2. WHEN drawer открывается, THE System SHALL отобразить название категории, номер модуля и список всех блоков
3. WHEN пользователь кликает на блок, THE System SHALL показать детальную информацию: название, описание, ссылки
4. WHEN пользователь просматривает детали блока, THE System SHALL предоставить кнопку "Назад к списку"
5. WHEN пользователь закрывает drawer, THE System SHALL вернуться к сетке категорий

### Requirement 6: Производительность

**User Story:** Как пользователь, я хочу, чтобы приложение быстро загружалось и плавно работало даже с 290 блоками, чтобы иметь комфортный опыт использования.

#### Acceptance Criteria

1. WHEN приложение загружается, THE System SHALL отрендерить первые видимые карточки за время менее 1 секунды
2. WHEN пользователь прокручивает сетку, THE System SHALL обеспечить плавность анимации (60 FPS)
3. WHEN drawer открывается, THE System SHALL отобразить список блоков за время менее 300ms
4. WHEN пользователь переключается между блоками, THE System SHALL обновить контент за время менее 200ms
5. THE System SHALL использовать React.memo для оптимизации рендеринга карточек

### Requirement 7: Адаптивность

**User Story:** Как пользователь мобильного устройства, я хочу комфортно просматривать Polyglossarium на любом экране, чтобы учиться в любом месте.

#### Acceptance Criteria

1. WHEN приложение открывается на мобильном устройстве, THE System SHALL адаптировать размеры карточек под ширину экрана
2. WHEN drawer открывается на мобильном, THE System SHALL занять всю ширину экрана
3. WHEN пользователь прокручивает на touch-устройстве, THE System SHALL поддерживать touch-жесты для drag-to-scroll
4. WHEN текст отображается, THE System SHALL обеспечить читаемость на экранах от 320px до 2560px
5. THE System SHALL использовать responsive font sizes и spacing

### Requirement 8: Поиск и фильтрация (опционально)

**User Story:** Как пользователь, я хочу искать блоки по ключевым словам, чтобы быстро находить нужные темы.

#### Acceptance Criteria

1. WHEN пользователь вводит запрос в поисковую строку, THE System SHALL фильтровать категории и блоки по названию и описанию
2. WHEN результаты поиска отображаются, THE System SHALL подсветить совпадения
3. WHEN поиск активен, THE System SHALL показать количество найденных результатов
4. WHEN пользователь очищает поиск, THE System SHALL вернуть полный список категорий
5. THE System SHALL поддерживать поиск на русском и английском языках

### Requirement 9: Валидация данных

**User Story:** Как система, я хочу проверять корректность данных при парсинге, чтобы избежать ошибок в приложении.

#### Acceptance Criteria

1. WHEN парсер обрабатывает файл, THE System SHALL проверить наличие всех обязательных полей (id, title, description)
2. WHEN обнаружена ошибка, THE System SHALL вывести предупреждение с указанием номера строки и типа ошибки
3. WHEN ID блока дублируется, THE System SHALL выдать ошибку и остановить парсинг
4. WHEN категория не содержит блоков, THE System SHALL вывести предупреждение
5. THE System SHALL проверить, что все 290 блоков присутствуют в итоговом файле

### Requirement 10: Сохранение прогресса (будущее расширение)

**User Story:** Как пользователь, я хочу отмечать изученные блоки, чтобы отслеживать свой прогресс в освоении знаний.

#### Acceptance Criteria

1. WHEN пользователь кликает на чекбокс блока, THE System SHALL сохранить статус в localStorage
2. WHEN пользователь возвращается на сайт, THE System SHALL восстановить статус изученных блоков
3. WHEN блок отмечен как изученный, THE System SHALL визуально отличать его от неизученных
4. WHEN пользователь просматривает категорию, THE System SHALL показать прогресс (X из Y блоков изучено)
5. THE System SHALL предоставить возможность сбросить прогресс
